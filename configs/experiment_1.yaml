# STRAW experiment configuration
# ──────────────────────────────────────────────
# Edit this file to add / modify experiment sweeps.
# Each experiment inherits from `defaults` and can override any key.

defaults:
  lr: 0.0001
  batch_size: 128
  device: auto          # "auto" picks cuda if available, else cpu
  data_root: ./data
  seed: 42
  models:
    - standalone
    - resnet34
    - modulator
    - modulator_trm

  # Optional: TRM+RoPE encoder knobs (used by modulator_trm)
  trm_token_dim: 64
  trm_heads: 4
  trm_steps: 4
  trm_mlp_ratio: 4.0
  trm_rope_theta: 10000.0
  trm_dropout: 0.0

experiments:
  - name: full_rank16
    train_subset: 1.0
    rank: 16
    num_epochs: 10

  - name: 10pct_rank16
    train_subset: 0.1
    rank: 16
    num_epochs: 5

  - name: 20pct_rank32
    train_subset: 0.2
    rank: 32
    num_epochs: 5
